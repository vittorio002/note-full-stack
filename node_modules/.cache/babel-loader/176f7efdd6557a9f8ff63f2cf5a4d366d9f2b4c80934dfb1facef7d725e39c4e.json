{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Vittorio/Desktop/react/note/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/Vittorio/Desktop/react/note/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import firebase from'firebase/app';import'firebase/firestore';var initState={notes:[{id:0,nome:\"spesa\",descrizione:\"latte, uova, pollo\"},{id:1,nome:\"esercizi di scuola\",descrizione:\"matematica pagina 67-68, storia la rivoluzione francese\"}]};var firebaseConfig={apiKey:\"AIzaSyBJuuunghq6xyxV5szomoMZdWNvUuGS0FA\",authDomain:\"note-full-stack.firebaseapp.com\",projectId:\"note-full-stack\",storageBucket:\"note-full-stack.appspot.com\",messagingSenderId:\"1036139791575\",appId:\"1:1036139791575:web:591130ad09858190279c92\"};firebase.initializeApp(firebaseConfig);var firestore=firebase.firestore();var rootReducer=function rootReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initState;var action=arguments.length>1?arguments[1]:undefined;if(action.type==='CHANGE_STATE'){var newState=state.notes;newState.map(function(note){if(note.id===action.id){note.descrizione=action.change;note.nome=action.nome;}});return _objectSpread(_objectSpread({},state),{},{notes:newState});}else if(action.type==='ADD_NOTE'){var newNote={id:Math.random(),nome:'new note',descrizione:'.'};firestore.collection('notes').add(newNote).then(function(){return console.log('Nota aggiunta con successo al database');}).catch(function(error){return console.error('Errore durante l\\'aggiunta della nota:',error);});var newNotes=[].concat(_toConsumableArray(state.notes),[newNote]);return _objectSpread(_objectSpread({},state),{},{notes:newNotes});}else if(action.type==='DELETE_NOTE'){firestore.collection('notes').doc(action.id).delete().then(function(){return console.log('Nota eliminata con successo dal database');}).catch(function(error){return console.error('Errore durante l\\'eliminazione della nota:',error);});var _newState=state.notes.filter(function(note){return note.id!==action.id;});return _objectSpread(_objectSpread({},state),{},{notes:_newState});}return state;};export default rootReducer;","map":{"version":3,"names":["firebase","initState","notes","id","nome","descrizione","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","initializeApp","firestore","rootReducer","state","arguments","length","undefined","action","type","newState","map","note","change","_objectSpread","newNote","Math","random","collection","add","then","console","log","catch","error","newNotes","concat","_toConsumableArray","doc","delete","filter"],"sources":["C:/Users/Vittorio/Desktop/react/note/src/component/rootReducer.js"],"sourcesContent":["import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\nconst initState={\r\n    notes:[\r\n        {id:0, nome:\"spesa\", descrizione:\"latte, uova, pollo\"},\r\n        {id:1, nome:\"esercizi di scuola\", descrizione:\"matematica pagina 67-68, storia la rivoluzione francese\"}\r\n    ]\r\n}\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBJuuunghq6xyxV5szomoMZdWNvUuGS0FA\",\r\n    authDomain: \"note-full-stack.firebaseapp.com\",\r\n    projectId: \"note-full-stack\",\r\n    storageBucket: \"note-full-stack.appspot.com\",\r\n    messagingSenderId: \"1036139791575\",\r\n    appId: \"1:1036139791575:web:591130ad09858190279c92\"\r\n}\r\n\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\nconst firestore = firebase.firestore();\r\n\r\nconst rootReducer = (state = initState, action) => {\r\n    if (action.type === 'CHANGE_STATE') {\r\n      const newState = state.notes;\r\n      newState.map((note) => {\r\n        if (note.id === action.id) {\r\n          note.descrizione = action.change;\r\n          note.nome = action.nome;\r\n        }\r\n      });\r\n      return {\r\n        ...state,\r\n        notes: newState,\r\n      };\r\n    } else if (action.type === 'ADD_NOTE') {\r\n      const newNote = {\r\n        id: Math.random(),\r\n        nome: 'new note',\r\n        descrizione: '.',\r\n      };\r\n      firestore.collection('notes').add(newNote)\r\n        .then(() => console.log('Nota aggiunta con successo al database'))\r\n        .catch((error) => console.error('Errore durante l\\'aggiunta della nota:', error));\r\n  \r\n      const newNotes = [...state.notes, newNote];\r\n      return {\r\n        ...state,\r\n        notes: newNotes,\r\n      };\r\n    } else if (action.type === 'DELETE_NOTE') {\r\n      firestore.collection('notes').doc(action.id).delete()\r\n        .then(() => console.log('Nota eliminata con successo dal database'))\r\n        .catch((error) => console.error('Errore durante l\\'eliminazione della nota:', error));\r\n  \r\n      const newState = state.notes.filter((note) => note.id !== action.id);\r\n      return {\r\n        ...state,\r\n        notes: newState,\r\n      };\r\n    }\r\n    return state;\r\n  };\r\n  \r\n  export default rootReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}